!function(e,t,n,a){"use strict";var i=t.csk=t.csk||{};i.i18n=i.i18n||{},i.i18n.themes=i.i18n.themes||{},i.themes={_do:function(t,n){var a=e(t),r=a.attr("href"),o=a.attr("data-theme");if(!r.length||!o.length)return!1;var h=-1===n?$action:n+"_theme_"+o;return i.ui.confirm(i.i18n.themes[n],function(){i.ajax.request(r,{type:"POST",data:{action:h},complete:function(){"delete"===n&&e("#theme-"+o).fadeOut(function(){e(this).remove()}),e("#wrapper").load(i.config.adminURL+"/themes  #wrapper > *"),e("#theme-modal").modal("hide")}})})},activate:function(e){return this._do(e,"activate")},delete:function(e){return this._do(e,"delete")},details:function(a){var r=e(a),o=r.attr("data-href"),h=r.attr("href"),d=r.attr("data-theme");if(!o.length||!d.length)return!1;var s=n.getElementById("theme-details-modal").innerHTML,c=Handlebars.compile(s);i.ajax.request(o,{success:function(n){var a=c(n.results);e("#wrapper").append(a),e("#theme-modal").modal("show"),t.history.pushState({href:h},"",h)}})}},e(n).ready(function(){e(n).on("click",".theme-details",function(e){return e.preventDefault(),i.themes.details(this)}),e(n).on("click",".theme-activate",function(e){return e.preventDefault(),i.themes.activate(this)}),e(n).on("click",".theme-delete",function(e){return e.preventDefault(),i.themes.delete(this)}),e(n).on("hidden.bs.modal","#theme-modal",function(n){t.history.pushState({href:i.config.adminURL+"/themes"},"",i.config.adminURL+"/themes"),e(this).remove()})})}(window.jQuery||window.Zepto,window,document);
