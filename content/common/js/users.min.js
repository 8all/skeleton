!function(e,r){"use strict";var t=window.csk=window.csk||{};t.i18n=t.i18n||{},t.i18n.users=t.i18n.users||{},t.users={activate:function(r){var s=e(r),u=s.attr("href"),n=s.data("id");e("#user-"+n);u.length&&t.ui.confirm(t.i18n.users.activate,function(){t.ajax.request(u,{type:"POST",data:{action:"activate-user_"+n},success:function(r,s){"success"===s&&(t.ui.alert(r.message,"success"),e("#user-"+n).load(t.config.currentURL+" #user-"+n+" > *"))},error:function(e,r,s){t.ui.alert(e.responseJSON.message,"error")}})})},deactivate:function(r){var s=e(r),u=s.attr("href"),n=s.data("id");e("#user-"+n);u.length&&t.ui.confirm(t.i18n.users.deactivate,function(){t.ajax.request(u,{type:"POST",data:{action:"deactivate-user_"+n},success:function(r,s){"success"===s&&(t.ui.alert(r.message,"success"),e("#user-"+n).load(t.config.currentURL+" #user-"+n+" > *"))},error:function(e,r,s){t.ui.alert(e.responseJSON.message,"error")}})})},delete:function(r){var s=e(r),u=s.attr("href"),n=s.data("id");e("#user-"+n);u.length&&t.ui.confirm(t.i18n.users.delete,function(){t.ajax.request(u,{type:"POST",data:{action:"delete-user_"+n},success:function(r,s){"success"===s&&(t.ui.alert(r.message,"success"),e("#user-"+n).load(t.config.currentURL+" #user-"+n+" > *"))},error:function(e,r,s){t.ui.alert(e.responseJSON.message,"error")}})})},restore:function(r){var s=e(r),u=s.attr("href"),n=s.data("id");e("#user-"+n);u.length&&t.ui.confirm(t.i18n.users.restore,function(){t.ajax.request(u,{type:"POST",data:{action:"restore-user_"+n},success:function(r,s){"success"===s&&(t.ui.alert(r.message,"success"),e("#user-"+n).load(t.config.currentURL+" #user-"+n+" > *"))},error:function(e,r,s){t.ui.alert(e.responseJSON.message,"error")}})})},remove:function(r){var s=e(r),u=s.attr("href"),n=s.data("id"),c=e("#user-"+n);u.length&&t.ui.confirm(t.i18n.users.remove,function(){t.ajax.request(u,{type:"POST",data:{action:"remove-user_"+n},success:function(r,s){"success"===s&&(t.ui.alert(r.message,"success"),c.animate({opacity:0},function(){e("#wrapper").load(t.config.currentURL+" #wrapper > *",function(){c.remove()})}))},error:function(e,r,s){t.ui.alert(e.responseJSON.message,"error")}})})}},e(document).ready(function(){e(document).on("click",".user-activate",function(e){return e.preventDefault(),t.users.activate(this)}),e(document).on("click",".user-deactivate",function(e){return e.preventDefault(),t.users.deactivate(this)}),e(document).on("click",".user-delete",function(e){return e.preventDefault(),t.users.delete(this)}),e(document).on("click",".user-restore",function(e){return e.preventDefault(),t.users.restore(this)}),e(document).on("click",".user-remove",function(e){return e.preventDefault(),t.users.remove(this)})})}(jQuery);
