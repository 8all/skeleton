!function(e,t){"use strict";var n=window.csk=window.csk||{};n.i18n=n.i18n||{},n.i18n.users=n.i18n.users||{},n.users={activate:function(e){return n.users._do(e,"activate")},deactivate:function(e){return n.users._do(e,"deactivate")},delete:function(e){return n.users._do(e,"delete")},restore:function(e){return n.users._do(e,"restore")},remove:function(e){return n.users._do(e,"remove")},_do:function(t,r){var u=e(t),i=u.data("endpoint"),s=u.closest("tr"),o=s.attr("id"),c=s.data("id");s.data("name"),r=r||-1;if(void 0===i||!i.length)return!1;n.ui.confirm(n.i18n.users[r],function(){n.ajax.request(i,{type:"POST",data:{action:r+"-user_"+c},complete:function(e,t){if("success"!==t)return!1;"remove"!==r?n.ui.reload("#"+o,!1):s.animate({opacity:0},function(){n.ui.reload("#users-list",!1,function(){s.remove()})})}})})}},e(document).ready(function(){e(document).on("click",".user-activate",function(e){return e.preventDefault(),n.users.activate(this)}),e(document).on("click",".user-deactivate",function(e){return e.preventDefault(),n.users.deactivate(this)}),e(document).on("click",".user-delete",function(e){return e.preventDefault(),n.users.delete(this)}),e(document).on("click",".user-restore",function(e){return e.preventDefault(),n.users.restore(this)}),e(document).on("click",".user-remove",function(e){return e.preventDefault(),n.users.remove(this)})})}(jQuery);
